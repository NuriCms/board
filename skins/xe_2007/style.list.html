<!-- display list -->
<form action="./" method="get">
    <table cellspacing="0" summary="" class="boardList">
    <thead>
    <tr>
        <!--// display the notice checkbox if the logged user is administrator -->
        <!--@if($grant->manager)-->
            <th scope="col" class="no_line"><input type="checkbox" onclick="XE.checkboxToggleAll({ doClick:true }); return false;" /></th>
        <!--@end-->

    <!--// configure table theader -->
    {@ $_line_idx = 0;}
    <!--@foreach($list_config as $key => $val)-->
        <!--// set style of the elements(the class of the first element is no_line) -->
        <!--@if(!$grant->manager && $_line_idx==0)-->
            {@$_lc = 'class="no_line"';$_l = "no_line"}
        <!--@else-->
            {@$_lc = $_l = ""}
        <!--@end-->

        <!--// if it is the default  -->
        <!--@if($val->idx == -1)-->

            <!--// display contents based on the type -->
            <!--@if($val->type == 'no')-->
                <th scope="col" {$_lc}><div>{$lang->no}</div></th>
            <!--@elseif($val->type == 'title')-->
                <th scope="col" class="<!--@if($module_info->use_category == 'Y')-->category<!--@else-->title<!--@end--> {$_l}">
                    <div>
                    <!--@if($module_info->use_category == "Y")-->
                    <!--// display the categories if the category is enabled -->
                            <select name="category" id="board_category">
                                <option value="">{$lang->category}</option>
                                <!--@foreach($category_list as $val)-->
                                <option value="{$val->category_srl}" <!--@if($category==$val->category_srl)-->selected="selected"<!--@end-->>{str_repeat("&nbsp;&nbsp;",$val->depth)} {$val->title} <!--@if($val->document_count)-->({$val->document_count})<!--@end--></option>
                                <!--@end-->
                            </select>
                            <input type="button" name="go_button" id="go_button" value="GO" onclick="doChangeCategory()" />
                    <!--@else-->
                    {$lang->title}
                    <!--@end-->
                    </div>
                </th>
            <!--@elseif($val->type == 'regdate')-->
                <th scope="col" class="date {$_l}"><div><a href="{getUrl('sort_index','regdate','order_type',$order_type)}">{$lang->date}<!--@if($sort_index=='regdate')--><img src="./images/common/{$order_icon}" alt="" width="5" height="3" class="sort" /><!--@end--></a></div></th>
            <!--@elseif($val->type == 'last_update')-->
                <th scope="col" class="date {$_l}"><div><a href="{getUrl('sort_index','last_update','order_type',$order_type)}">{$lang->last_update}<!--@if($sort_index=='last_update')--><img src="./images/common/{$order_icon}" alt="" width="5" height="3" class="sort" /><!--@end--></a></div></th>
            <!--@elseif($val->type == 'nick_name')-->
                <th class="author" scope="col" {$_lc}><div>{$lang->writer}</div></th>
            <!--@elseif($val->type == 'user_id')-->
                <th class="author" scope="col" {$_lc}><div>{$lang->user_id}</div></th>
            <!--@elseif($val->type == 'user_name')-->
                <th class="author" scope="col" {$_lc}><div>{$lang->user_name}</div></th>
            <!--@elseif($val->type == 'readed_count')-->
                <th class="reading" scope="col" {$_lc}><div><a href="{getUrl('sort_index','readed_count','order_type',$order_type)}">{$lang->readed_count}<!--@if($sort_index=='readed_count')--><img src="./images/common/{$order_icon}" alt="" width="5" height="3" class="sort" /><!--@end--></a></div></th>
            <!--@elseif($val->type == 'voted_count')-->
                <th class="recommend" scope="col" {$_lc}><div><a href="{getUrl('sort_index','voted_count','order_type',$order_type)}">{$lang->voted_count}<!--@if($sort_index=='voted_count')--><img src="./images/common/{$order_icon}" alt="" width="5" height="3" class="sort" /><!--@end--></a></div></th>
            <!--@elseif($val->type == 'blamed_count')-->
                <th class="recommend" scope="col" {$_lc}><div><a href="{getUrl('sort_index','blamed_count','order_type',$order_type)}">{$lang->blamed_count}<!--@if($sort_index=='blamed_count')--><img src="./images/common/{$order_icon}" alt="" width="5" height="3" class="sort" /><!--@end--></a></div></th>
            <!--@end-->

        <!--// enable user-defined sorting variables-->
        <!--@else-->
                <th scope="col" {$_lc}><div><a href="{getUrl('sort_index', $val->eid, 'order_type', $order_type)}">{$val->name}<!--@if($sort_index == $val->eid)--><img src="./images/common/{$order_icon}" alt="" width="5" height="3" class="sort" /><!--@end--></a></div></th>
        <!--@end-->

        {@ $_line_idx++;}
    <!--@end-->
    </tr>
    </thead>
    <tbody>

    <!--// display the no documents message if there aren't documents -->
    <!--@if(!$document_list && !$notice_list)-->
    <tr class="bg0 tCenter">
        <td colspan="<!--@if($grant->manager)-->{count($list_config)+1}<!--@else-->{count($list_config)}<!--@end-->" class="title">
            {$lang->no_documents}
        </td>
    </tr>
    <!--@else-->

        <!--// display notice list -->
        <!--@foreach($notice_list as $no => $document)-->
        <tr class="notice">

            <!--// display the notice checkbox if the logged user is administrator -->
            <!--@if($grant->manager)-->
                <td class="checkbox"><input type="checkbox" name="cart" value="{$document->document_srl}" onclick="doAddDocumentCart(this)" <!--@if($document->isCarted())-->checked="checked"<!--@end--> /></td>
            <!--@end-->

            <!--// configure table theader  -->
            <!--@foreach($list_config as $key => $val)-->

                <!--// if it is the default -->
                <!--@if($val->idx == -1)-->

                    <!--// display the contents based on the type -->
                    <!--@if($val->type == 'no')-->
                        <td class="notice"><!--@if($document_srl == $document->document_srl)--><img src="./images/common/iconArrowD8.gif" border="0" alt="" /><!--@else-->{$lang->notice}<!--@end--></td>
                    <!--@elseif($val->type == 'title')-->
                        <td class="title">
                            <!--@if($module_info->use_category == "Y" && $document->get('category_srl'))-->
                            <strong class="category" <!--@if($category_list[$document->get('category_srl')]->color && $category_list[$document->get('category_srl')]->color != 'transparent')-->style="color:{$category_list[$document->get('category_srl')]->color};"<!--@end-->>{$category_list[$document->get('category_srl')]->title}</strong>
                            <!--@end-->

                            <a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}">{$document->getTitle($module_info->subject_cut_size)}</a>
                            
                            <!--@if($document->getCommentCount())-->
                                <span class="replyAndTrackback" title="Replies"><img src="./images/{$module_info->colorset}/iconReply.gif" alt="" width="12" height="12" class="icon" /> <strong>{$document->getCommentCount()}</strong></span>
                            <!--@end-->

                            <!--@if($document->getTrackbackCount())-->
                                <span class="replyAndTrackback" title="Trackbacks"><img src="./images/{$module_info->colorset}/iconTrackback.gif" alt="" width="12" height="13" class="trackback icon" /> <strong>{$document->getTrackbackCount()}</strong></span>
                            <!--@end-->

                            {$document->printExtraImages(60*60*$module_info->duration_new)}
                        </td>
                    <!--@elseif($val->type == 'regdate')-->
                        <td class="date">{$document->getRegdate('Y-m-d')}</td>
                    <!--@elseif($val->type == 'last_update')-->
                        <td class="date">{zdate($document->get('last_update'),'Y-m-d H:i')}</td>
                    <!--@elseif($val->type == 'nick_name')-->
                        <td class="author"><div class="member_{$document->get('member_srl')}">{$document->getNickName()}</div></td>
                    <!--@elseif($val->type == 'user_id')-->
                        <td class="author">{$document->getUserID()}</td>
                    <!--@elseif($val->type == 'user_name')-->
                        <td class="author">{$document->getUserName()}</td>
                    <!--@elseif($val->type == 'readed_count')-->
                        <td class="reading">{$document->get('readed_count')>0?$document->get('readed_count'):'&nbsp;'}</td>
                    <!--@elseif($val->type == 'voted_count')-->
                        <td class="recommend">{$document->get('voted_count')!=0?$document->get('voted_count'):'&nbsp;'}</td>
                    <!--@elseif($val->type == 'blamed_count')-->
                        <td class="recommend">{$document->get('blamed_count')!=0?$document->get('blamed_count'):'&nbsp;'}</td>
                    <!--@end-->

                <!--// display the extra variables -->
                <!--@else-->
                        <td>{$document->getExtraValueHTML($val->idx)}&nbsp;</td>
                <!--@end-->

            <!--@end-->
        </tr>
        <!--@end-->

        <!--// display the documents list -->
        <!--@foreach($document_list as $no => $document)-->
        <tr class="bg{($no+1)%2+1}">
        
            <!--//  display the notice checkbox if the logged user is administrator -->
            <!--@if($grant->manager)-->
                <td class="checkbox"><input type="checkbox" name="cart" value="{$document->document_srl}" onclick="doAddDocumentCart(this)" <!--@if($document->isCarted())-->checked="checked"<!--@end--> /></td>
            <!--@end-->

            <!--// configure table theader  -->
            <!--@foreach($list_config as $key => $val)-->

                <!--// if it is the default -->
                <!--@if($val->idx == -1)-->

                    <!--// display the contents based on the type-->
                    <!--@if($val->type == 'no')-->
                        <td class="num"><!--@if($document_srl == $document->document_srl)--><img src="./images/common/iconArrowD8.gif" border="0" alt="" /><!--@else-->{$no}<!--@end--></td>
                    <!--@elseif($val->type == 'title')-->
                        <td class="title">
                            <!--@if($module_info->use_category == "Y" && $document->get('category_srl'))-->
                            <strong class="category" <!--@if($category_list[$document->get('category_srl')]->color && $category_list[$document->get('category_srl')]->color != 'transparent')-->style="color:{$category_list[$document->get('category_srl')]->color};"<!--@end-->>{$category_list[$document->get('category_srl')]->title}</strong>
                            <!--@end-->

                            <a href="{getUrl('document_srl',$document->document_srl, 'listStyle', $listStyle, 'cpage','')}">{$document->getTitle($module_info->subject_cut_size)}</a>
                            
                            <!--@if($document->getCommentCount())-->
                                <span class="replyAndTrackback" title="Replies"><img src="./images/{$module_info->colorset}/iconReply.gif" alt="" width="12" height="12" class="icon" /> <strong>{$document->getCommentCount()}</strong></span>
                            <!--@end-->

                            <!--@if($document->getTrackbackCount())-->
                                <span class="replyAndTrackback" title="Trackbacks"><img src="./images/{$module_info->colorset}/iconTrackback.gif" alt="" width="12" height="13" class="trackback icon" /> <strong>{$document->getTrackbackCount()}</strong></span>
                            <!--@end-->

                            {$document->printExtraImages(60*60*$module_info->duration_new)}
                        </td>
                    <!--@elseif($val->type == 'regdate')-->
                        <td class="date">{$document->getRegdate('Y-m-d')}</td>
                    <!--@elseif($val->type == 'last_update')-->
                        <td class="date">{zdate($document->get('last_update'),'Y-m-d H:i')}</td>
                    <!--@elseif($val->type == 'nick_name')-->
                        <td class="author"><div class="member_{$document->get('member_srl')}">{$document->getNickName()}</div></td>
                    <!--@elseif($val->type == 'user_id')-->
                        <td class="author">{$document->getUserID()}</td>
                    <!--@elseif($val->type == 'user_name')-->
                        <td class="author">{$document->getUserName()}</td>
                    <!--@elseif($val->type == 'readed_count')-->
                        <td class="reading">{$document->get('readed_count')>0?$document->get('readed_count'):'&nbsp;'}</td>
                    <!--@elseif($val->type == 'voted_count')-->
                        <td class="recommend">{$document->get('voted_count')!=0?$document->get('voted_count'):'&nbsp;'}</td>
                    <!--@elseif($val->type == 'blamed_count')-->
                        <td class="recommend">{$document->get('blamed_count')!=0?$document->get('blamed_count'):'&nbsp;'}</td>
                    <!--@end-->

                <!--// display the extra variables -->
                <!--@else-->
                        <td>{$document->getExtraValueHTML($val->idx)}&nbsp;</td>
                <!--@end-->

            <!--@end-->
        <!--@end-->
        </tr>

    <!--@end-->

    </tbody>
    </table>
</form>
